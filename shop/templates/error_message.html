{% if form.errors  %}
    {% for field, errors in form.errors.items %}
        {% for error in errors %}
            <ul class="messagelist">
                <li class="danger-text" id="error_message">{{ error }}
                    <button class="close-button" id="close-button-error">âœ–
                    </button>
                </li>
            </ul>
        {% endfor %}
    {% endfor %}
{% endif %}

<script>
        let toast_error = document.getElementById("error_message");
        document.getElementById("close-button-error").addEventListener("click", function () {
            toast_error.remove()
            }
        );

        function fadeOutEffectErrorMessage(time) {
        var fadeTarget = document.getElementById("error_message");
        var fadeEffect = setInterval(function () {
        if (!fadeTarget.style.opacity) {
            fadeTarget.style.opacity = 1;
        }
        if (fadeTarget.style.opacity > 0) {
            fadeTarget.style.opacity -= 0.1;
        } else {
            clearInterval(fadeEffect);
        }
    }, time);
}
fadeOutEffectErrorMessage(800)
</script>